# CSE535-Project4


Start the server on port 8000:
> cd server
> python server.py


The web site expects solr to be running on the url path ..../server, and access a core named "p4".
"managed-schema" contains the schema xml confog file for the core.

A small set of collected tweets is in the file "small_tweets.json".  The full set, all_tweets.json has 637930 tweets collected from 9/07/2018, 12/03/2018.
However, continuous collection did not start until 10/14/2018.

tweets have the form:
{
  # Fields formated as described in project 1
  "city":["nyc"], # nyc, paris, # mexico city, delhi, bangkok
  "topic":["environment"],      # politics, environment, crime, infrastructure, social unrest
  "tweet_lang":["en"],          # en, es, fr, hi, th
  "tweet_loc":[40.7128, -74.006],
  "tweet_text":["Stumping for pitching collaborative climate change photo essay, honoring the late Ntozake Shâ€¦"],
  "text_en":["Stumping for pitching collaborative climate change photo essay, honoring the late Ntozake Shâ€¦"],
  "text_es": None
  "text_fr": None
  "text_hi": None
  "text_th": None
  "tweet_date":["2018-11-01T13:37:06Z"],
  "emoticons":["ðŸ˜‚"],
  "tweet_urls":["https://t.co/xT41ceQBOG"],

  # translation generated by google cloud services.
  "translation":["Stumping for pitching collaborative climate change photo essay, honoring the late Ntozake Sh..."],

  # information generated from TextBlob sentiment analysis.
  "polarity":[-0.3],     
  "subjectivity":[0.6], 

  # added information about the tweet collection
  "collecter":["plaw"],  
  "filename":["NYC_climate_change_4.json"],

  # fields copied from the original tweets
  "truncated":[true],
  "id":"1057989912308396033",
  "user_id":[963057842],
  "date_ordinal":[736999],
  "source":["Twitter Lite"],
  "id_str":[1057989912308396033],
  "_version_":1619074552503992320
}
																				        {




Solr has to be served on the same port as the web server, or cross origin security checks will keep the data from loading.
This can be accomplished with nginx.

The config file should look something like:

server {
    listen 80 default_server;
    server_name wsi9;

    client_max_body_size 500M;

    proxy_set_header Host $proxy_host;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Host $host;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_buffering off;
    proxy_cache off;
    proxy_set_header Connection '';
    proxy_http_version 1.1;
    chunked_transfer_encoding off;
    proxy_read_timeout 600s;
    proxy_send_timeout 600s;

    location / {
        proxy_pass http://localhost:8000/;
    }

    # solr
    location /search/ {
        proxy_pass http://localhost:8983/;
    }
}
			    







